# Cyrrency converter (конвертер валют)
Сервис конвертации валют, обладающий возможностью обновления базы курсов валют "на лету" в двух режимах: полная замена данных, объединение данных.

## API сервиса
Конвертация валют:
- **GET** /convert?from=RUR&to=USD&amount=42
Где:
	- **from**=CHAR_CODE - валюта из которой необходимо провести конвертацию
	- **to**=CHAR_CODE - валюта в которую необходимо конвертировать
	- **amount**=NUMBER - количество денежных единиц подвергаемых конвертации

Обновление данных курса валют:
- POST /database?merge=1
Где:
	- **merge**=NUMBER - режим добавления даных: 0 - замена, 1 - объединение

## Зависимости
- aioredis
- aiohttp
- для работы сервиса необходим сервер Redis

## Быстрый запуск сервиса
Быстрый запуск сервиса состоит из следующих шагов:
1. Установить сервер Redis
```
$ apt-get update
$ apt-get install redis
```
1. Установить зависимости
```
$ python3 -m pip install -r requirements.txt
```
1. Выполнить скрипт запуска сервиса
```
$ cd ./service/
$ /bin/bash run_service.sh
```

## Настройка сервиса
Сервис настраивается с помощью файла конфигурации "configuration.ini". Ниже будут рассмотрены основные параметры файла конфигурации.
- Настройка базовой валюты. Определяет относительно какой валюты будет происходить конвертация и трактование данных о курсах валют, добавляемых и считываемых из базы данных.
```
[CONVERTER]
BaseCurrency = RUB
```
- Настройка адреса сервера Redis к которому подключается сервис конвертации.
```
[REDIS]
Host = localhost
```
- Настройка порта сервера Redis к которому подключается сервис конвертации.
```
[REDIS]
Port = 6379
```